<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>6-2</title>
    <style>
        body{
            text-align: center;
            background-color: darkgrey;
        }
    </style>
</head>
<body>
<h1>Welcome to 6.2</h1>
<p>Take a look to the console my friend.</p>
    <script>
        async function run(){
            //Fetch the Html page
            let textData = await fetch("https://kaul.inf.h-brs.de/we/assets/html/plagiatsresolution.html",{mode:"cors"});
            let textString =await textData.text();
            const TextInWords = textString.split(" ");

            //Filter HTML Page: 1. filter HTML Tags, 2. filter stopwords
            const stopwordsString ="ab\n" + "aber\n" + "alle\n" + "allem\n" + "allen\n" + "aller\n" + "allerdings\n" + "als\n" + "also\n" + "am\n" + "an\n" + "andere\n" + "anderem\n" + "anderen\n" + "anderer\n" + "andernfalls\n" + "anders\n" + "andersherum\n" + "anfangs\n" + "anhand\n" + "anschließend\n" + "ansonsten\n" + "anstatt\n" + "auch\n" + "auf\n" + "aufgrund\n" + "aus\n" + "außerdem\n" + "befindet\n" + "bei\n" + "beide\n" + "beim\n" + "beispielsweise\n" + "bereits\n" + "besonders\n" + "besteht\n" + "bestimmte\n" + "bestimmten\n" + "bestimmter\n" + "bevor\n" + "bietet\n" + "bis\n" + "bleiben\n" + "bringen\n" + "bringt\n" + "bsp\n" + "bzw\n" + "d.h\n" + "da\n" + "dabei\n" + "dafür\n" + "daher\n" + "damit\n" + "danach\n" + "dann\n" + "dar\n" + "daran\n" + "darauf\n" + "daraus\n" + "darf\n" + "darstellt\n" + "darüber\n" + "das\n" + "dass\n" + "davon\n" + "dazu\n" + "dem\n" + "demzufolge\n" + "den\n" + "denen\n" + "denn\n" + "der\n" + "deren\n" + "des\n" + "dessen\n" + "desto\n" + "die\n" + "dies\n" + "diese\n" + "diesem\n" + "diesen\n" + "dieser\n" + "dieses\n" + "doch\n" + "dort\n" + "durch\n" + "ebenfalls\n" + "eher\n" + "eigenen\n" + "eigentlich\n" + "ein\n" + "eine\n" + "einem\n" + "einen\n" + "einer\n" + "eines\n" + "einigen\n" + "einiges\n" + "einmal\n" + "einzelnen\n" + "entscheidend\n" + "entweder\n" + "er\n" + "erstmals\n" + "es\n" + "etc\n" + "etwas\n" + "euch\n" + "folgende\n" + "folgendem\n" + "folgenden\n" + "folgender\n" + "folgendes\n" + "folgt\n" + "für\n" + "ganz\n" + "gegen\n" + "gehen\n" + "gemacht\n" + "genannte\n" + "genannten\n" + "gerade\n" + "gerne\n" + "gibt\n" + "gilt\n" + "gleich\n" + "gleichen\n" + "gleichzeitig\n" + "habe\n" + "haben\n" + "hält\n" + "hat\n" + "hatte\n" + "hätte\n" + "hauptsächlich\n" + "her\n" + "heutigen\n" + "hier\n" + "hierbei\n" + "hierfür\n" + "hin\n" + "hingegen\n" + "hinzu\n" + "hoch\n" + "ihn\n" + "ihr\n" + "ihre\n" + "ihren\n" + "ihrer\n" + "im\n" + "immer\n" + "immerhin\n" + "in\n" + "indem\n" + "insgesamt\n" + "ist\n" + "ja\n" + "je\n" + "jede\n" + "jedem\n" + "jeder\n" + "jedes\n" + "jedoch\n" + "jetzt\n" + "jeweilige\n" + "jeweiligen\n" + "jeweils\n" + "kam\n" + "kann\n" + "keine\n" + "kommen\n" + "kommt\n" + "können\n" + "konnte\n" + "könnte\n" + "konnten\n" + "lassen\n" + "lässt\n" + "lautet\n" + "lediglich\n" + "leider\n" + "letztendlich\n" + "letztere\n" + "letzteres\n" + "liegt\n" + "machen\n" + "macht\n" + "mal\n" + "man\n" + "mehr\n" + "mehrere\n" + "meine\n" + "meinem\n" + "meisten\n" + "mich\n" + "mit\n" + "mithilfe\n" + "mittels\n" + "möchte\n" + "möglich\n" + "möglichst\n" + "momentan\n" + "muss\n" + "müssen\n" + "musste\n" + "nach\n" + "nachdem\n" + "nächsten\n" + "nahezu\n" + "nämlich\n" + "natürlich\n" + "neue\n" + "neuen\n" + "nicht\n" + "nichts\n" + "noch\n" + "nun\n" + "nur\n" + "ob\n" + "obwohl\n" + "oder\n" + "oftmals\n" + "ohne\n" + "per\n" + "sämtliche\n" + "scheint\n" + "schon\n" + "sehr\n" + "sein\n" + "seine\n" + "seinem\n" + "seinen\n" + "sich\n" + "sicherlich\n" + "sie\n" + "siehe\n" + "sind\n" + "so\n" + "sobald\n" + "sofern\n" + "solche\n" + "solchen\n" + "soll\n" + "sollen\n" + "sollte\n" + "sollten\n" + "somit\n" + "sondern\n" + "sorgt\n" + "sowie\n" + "sowohl\n" + "später\n" + "sprich\n" + "statt\n" + "trotz\n" + "über\n" + "überhaupt\n" + "um\n" + "und\n" + "uns\n" + "unter\n" + "usw\n" + "viel\n" + "viele\n" + "vielen\n" + "völlig\n" + "vom\n" + "von\n" + "vor\n" + "vorerst\n" + "vorher\n" + "während\n" + "war\n" + "wäre\n" + "waren\n" + "warum\n" + "was\n" + "weil\n" + "weitere\n" + "weiteren\n" + "weiterer\n" + "weiteres\n" + "weiterhin\n" + "welche\n" + "welchen\n" + "welcher\n" + "welches\n" + "wenn\n" + "wer\n" + "werden\n" + "wesentlich\n" + "wichtige\n" + "wichtigsten\n" + "wie\n" + "wieder\n" + "wiederum\n" + "will\n" + "wir\n" + "wird\n" + "wirklich\n" + "wo\n" + "wobei\n" + "worden\n" + "wurde\n" + "wurden\n" + "z.b\n" + "ziemlich\n" + "zu\n" + "zuerst\n" + "zum\n" + "zur\n" + "zusätzlich\n" + "zuvor\n" + "zwar\n" + "zwecks";
            const stopwords = stopwordsString.split("\n");
            let filteredWords = TextInWords.filter(emptyString => emptyString).filter(word => !(word.includes("<") || word.includes(">") || word.includes("=") || word.includes("--") || word.includes(".")));
            let furtherFilteredWords= filteredWords.filter(word=> !stopwords.includes(word.toLowerCase()));

            //Map filtered words with their frequency and sort them by highest frequency
            const WordMapCount = furtherFilteredWords.reduce((map, word) => map.set(word, (map.get(word) || 0) + 1), new Map());
            const SortedMap = new Map([...WordMapCount.entries()].sort((a, b) => b[1] - a[1]));

            //Get the words of the map-elements and push the first three inside array
            const allWords= SortedMap.keys();
            let top3Words = [];
            for(let i =0; i<3; i++){
                top3Words.push(allWords.next().value);
            }
            console.log(top3Words);
        }
        run().then();
    </script>
</body>
</html>
